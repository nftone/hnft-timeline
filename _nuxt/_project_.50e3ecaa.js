import{f as x,g as C,h as w,r as U,m as P,o as a,c as i,a as e,t as u,n as p,v as m,i as t,F as y,q as $,s as T,x as f,b as h,d as M,l as L,w as V,_ as S,M as D,j as B,k as O}from"./entry.1f7e1a0d.js";import{_ as R}from"./Timeline.vue.c81ce28a.js";import"./nuxt-link.b3e987a3.js";const E=r=>({name:r.name,slug:r.slug,date:r.date,description:r.description,creator:r.creator,links:JSON.parse(JSON.stringify(r.links)),network:r.network}),I={fromTimelineProject:E},F={class:"edit-form"},J={class:"form-group"},G=e("label",{for:"name"},"Name",-1),H=e("label",{for:"slug"},"Slug",-1),q=e("label",{for:"date"},"Date",-1),z=e("label",{for:"description"},"Description",-1),A=e("label",{for:"image"},"Creator",-1),W=e("h3",{class:"mt-2 mb-1"},"Links",-1),K={class:"form-group link-form mb-1 pa-1"},Q={class:"link-form-two-inputs"},X={class:"input-cell"},Y=e("label",null,"Link type *",-1),Z=["onUpdate:modelValue"],ee=["value"],te={class:"input-cell"},oe=e("label",null,"Link name",-1),se=["onUpdate:modelValue"],ne={class:"input-cell"},le=e("label",null,"URL *",-1),ae=["onUpdate:modelValue"],ie=["onClick"],re=e("h3",{class:"mt-2 mb-1"},"Updated data object to paste in GitHub",-1),de={class:"json-object pa-1"},ce={class:"actions mt-2 mb-1"},ue=["href"],pe=x({__name:"TimelineProjectEditModal",props:{project:{}},setup(r){const k=r,{getProjectContributionUrl:_,taxonomy:b}=C(w()),g=I.fromTimelineProject(k.project),s=U(g),{copy:j}=P();return(n,l)=>(a(),i("div",F,[e("h2",null,u(n.project.name),1),e("div",J,[G,p(e("input",{id:"name","onUpdate:modelValue":l[0]||(l[0]=o=>t(s).name=o),type:"text",placeholder:"Name"},null,512),[[m,t(s).name]]),H,p(e("input",{id:"slug","onUpdate:modelValue":l[1]||(l[1]=o=>t(s).slug=o),type:"text",placeholder:"Slug"},null,512),[[m,t(s).slug]]),q,p(e("input",{id:"date","onUpdate:modelValue":l[2]||(l[2]=o=>t(s).date=o),type:"text",placeholder:"Date"},null,512),[[m,t(s).date]]),z,p(e("input",{id:"description","onUpdate:modelValue":l[3]||(l[3]=o=>t(s).description=o),type:"text",placeholder:"Description"},null,512),[[m,t(s).description]]),A,p(e("input",{id:"creator","onUpdate:modelValue":l[4]||(l[4]=o=>t(s).creator=o),type:"text",placeholder:"Creator"},null,512),[[m,t(s).creator]])]),W,(a(!0),i(y,null,$(t(s).links,(o,v)=>(a(),i("div",{key:v},[e("div",K,[e("div",Q,[e("div",X,[Y,p(e("select",{"onUpdate:modelValue":d=>o.type=d},[(a(!0),i(y,null,$(t(b).linkTypes,d=>(a(),i("option",{key:d.name,value:d.name},u(d.name),9,ee))),128))],8,Z),[[T,o.type]])]),e("div",te,[oe,p(e("input",{"onUpdate:modelValue":d=>o.name=d,type:"text",placeholder:"Official Website"},null,8,se),[[m,o.name]])])]),e("div",ne,[le,p(e("input",{"onUpdate:modelValue":d=>o.url=d,type:"text",placeholder:"Link URL"},null,8,ae),[[m,o.url]])]),t(s).links.length>1?(a(),i("button",{key:0,onClick:d=>t(s).links.splice(v,1)}," Delete link ",8,ie)):f("",!0)])]))),128)),e("button",{onClick:l[5]||(l[5]=o=>t(s).links.push({type:"",url:""}))}," Add link "),re,e("div",de,[e("pre",null,[e("code",null,u(t(s)),1)])]),e("div",ce,[e("button",{onClick:l[6]||(l[6]=o=>t(j)(JSON.stringify(t(s),null,"  ")))}," Copy data object to clipboard "),e("a",{href:t(_)(n.project),target:"_blank",rel:"noopener noreferrer",class:"ml-1",style:{"text-decoration":"underline"}},"and propose changes in GitHub ",8,ue)])]))}});const _e=e("div",{class:"subheader"},"Date",-1),me={key:0,class:"subheader"},he={key:1},ge={key:2,class:"subheader"},ve={key:3,class:"description"},fe={class:"network"},ke={class:"network-name"},ye={class:"links"},be=["href"],je={class:"contribute mt-2"},$e=x({__name:"TimelineProjectDetail",props:{slug:{}},setup(r){const k=r,_=U(!1),{getLinkTypeImage:b,getProjectBySlug:g,getNetworkImage:s,getNetworkName:j}=C(w()),n=g(k.slug);return(l,o)=>{const v=S,d=pe,N=D;return a(),i(y,null,[e("div",null,[e("h2",null,u(t(n).name),1),e("div",null,[h(v,{class:"image-size",src:`images/projects/${t(n).image}`,alt:"image of project"},null,8,["src"])]),e("div",null,[_e,M(" "+u(t(n).date),1)]),t(n).creator?(a(),i("div",me,"Creator")):f("",!0),t(n).creator?(a(),i("div",he,u(t(n).creator),1)):f("",!0),t(n).description?(a(),i("div",ge,"Description")):f("",!0),t(n).description?(a(),i("div",ve,u(t(n).description),1)):f("",!0),e("div",fe,[h(v,{width:"32px",class:"link-image",alt:`Image of project ${t(n).name}`,src:t(s)(t(n).network)},null,8,["alt","src"]),e("div",ke,u(t(j)(t(n).network)),1)]),e("div",ye,[(a(!0),i(y,null,$(t(n).links,c=>(a(),i("div",{key:`${l.slug}-link-${c}`,class:"link"},[e("a",{href:c.url,target:"_blank"},[h(v,{width:"32px",class:"link-image",alt:`Network image of project ${t(n).name}`,src:t(b)(c.type)},null,8,["alt","src"])],8,be),e("span",null,u((c==null?void 0:c.name)||c.type),1)]))),128))]),e("div",je,[e("button",{onClick:o[0]||(o[0]=c=>_.value=!0)},"Propose changes")])]),t(_)?(a(),L(N,{key:0,onClose:o[1]||(o[1]=c=>_.value=!1)},{default:V(()=>[h(d,{project:t(n)},null,8,["project"])]),_:1})):f("",!0)],64)}}});const Ue={__name:"[project]",setup(r){const k=B(),_=O();return(b,g)=>(a(),i(y,null,[h(R),h(D,{onClose:g[0]||(g[0]=()=>t(_).push({path:"/"}))},{default:V(()=>[h($e,{slug:t(k).params.project},null,8,["slug"])]),_:1})],64))}};export{Ue as default};
